{"version":3,"file":"react-rating.umd.js","sources":["../src/utils/style.js","../src/RatingSymbol.js","../src/Rating.js","../src/utils/noop.js","../src/RatingAPILayer.js"],"sourcesContent":["var style = {\r\n  display: 'inline-block',\r\n  borderRadius: '50%',\r\n  border: '5px double white',\r\n  width: 30,\r\n  height: 30\r\n};\r\n\r\nexport default {\r\n  empty: {\r\n    ...style,\r\n    backgroundColor: '#ccc'\r\n  },\r\n  full: {\r\n    ...style,\r\n    backgroundColor: 'black'\r\n  },\r\n  placeholder: {\r\n    ...style,\r\n    backgroundColor: 'red'\r\n  }\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Return the corresponding React node for an icon.\r\nconst _iconNode = (icon) => {\r\n  // If it is already a React Element just return it.\r\n  if (React.isValidElement(icon)) {\r\n    return icon;\r\n  }\r\n  // If it is an object, try to use it as a CSS style object.\r\n  if (typeof icon === 'object' && icon !== null) {\r\n    return <span style={icon} />;\r\n  }\r\n  // If it is a string, use it as class names.\r\n  if (Object.prototype.toString.call(icon) === '[object String]') {\r\n    return <span className={icon} />;\r\n  }\r\n};\r\n\r\nclass RatingSymbol extends React.PureComponent {\r\n  render() {\r\n    const {\r\n      index,\r\n      inactiveIcon,\r\n      activeIcon,\r\n      percent,\r\n      direction,\r\n      readonly,\r\n      onClick,\r\n      onMouseMove,\r\n      onTouchEnd\r\n    } = this.props;\r\n    const backgroundNode = _iconNode(inactiveIcon);\r\n    const showbgIcon = percent < 100;\r\n    const bgIconContainerStyle = showbgIcon\r\n      ? {}\r\n      : {\r\n          visibility: 'hidden'\r\n        };\r\n    const iconNode = _iconNode(activeIcon);\r\n    const iconContainerStyle = {\r\n      display: 'inline-block',\r\n      position: 'absolute',\r\n      overflow: 'hidden',\r\n      top: 0,\r\n      [direction === 'rtl' ? 'right' : 'left']: 0,\r\n      width: `${percent}%`\r\n    };\r\n    const style = {\r\n      cursor: !readonly ? 'pointer' : 'inherit',\r\n      display: 'inline-block',\r\n      position: 'relative'\r\n    };\r\n\r\n    function handleMouseMove(e) {\r\n      if (onMouseMove) {\r\n        onMouseMove(index, e);\r\n      }\r\n    }\r\n\r\n    function handleMouseClick(e) {\r\n      if (onClick) {\r\n        // [Supporting both TouchEvent and MouseEvent](https://developer.mozilla.org/en-US/docs/Web/API/Touch_events/Supporting_both_TouchEvent_and_MouseEvent)\r\n        // We must prevent firing click event twice on touch devices.\r\n        e.preventDefault();\r\n        onClick(index, e);\r\n      }\r\n    }\r\n\r\n    function handleTouchEnd(e) {\r\n      if (onTouchEnd) {\r\n        onTouchEnd(index, e);\r\n      }\r\n    }\r\n\r\n    return (\r\n      <span\r\n        style={style}\r\n        onClick={handleMouseClick}\r\n        onMouseMove={handleMouseMove}\r\n        onTouchMove={handleMouseMove}\r\n        onTouchEnd={handleTouchEnd}\r\n      >\r\n        <span style={bgIconContainerStyle}>\r\n          {backgroundNode}\r\n        </span>\r\n        <span style={iconContainerStyle}>\r\n          {iconNode}\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\n// Define propTypes only in development. They will be void in production.\r\nRatingSymbol.propTypes = typeof __DEV__ !== 'undefined' && __DEV__ && {\r\n  index: PropTypes.number.isRequired,\r\n  readonly: PropTypes.bool.isRequired,\r\n  inactiveIcon: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.object,\r\n    PropTypes.element\r\n  ]).isRequired,\r\n  activeIcon: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.object,\r\n    PropTypes.element\r\n  ]).isRequired,\r\n  percent: PropTypes.number.isRequired,\r\n  direction: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func,\r\n  onMouseMove: PropTypes.func,\r\n  onTouchMove: PropTypes.func,\r\n  onTouchEnd: PropTypes.func\r\n};\r\n\r\nexport default RatingSymbol;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Symbol from './RatingSymbol';\r\n\r\nclass Rating extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // Indicates the value that is displayed to the user in the form of symbols.\r\n      // It can be either 0 (for no displayed symbols) or (0, end]\r\n      displayValue: this.props.value,\r\n      // Indicates if the user is currently hovering over the rating element\r\n      interacting: false\r\n    };\r\n    this.onMouseLeave = this.onMouseLeave.bind(this);\r\n    this.symbolMouseMove = this.symbolMouseMove.bind(this);\r\n    this.symbolClick = this.symbolClick.bind(this);\r\n    this.symbolEnd = this.symbolEnd.bind(this);\r\n  }\r\n\r\n  // ...\r\n\r\n  // NOTE: This callback is a little bit fragile. Needs some \"care\" because\r\n  // it relies on brittle state kept with different props and state\r\n  // combinations to try to figure out from where we are coming, I mean, what\r\n  // caused this update.\r\n  componentDidUpdate(prevProps, prevState) {\r\n    // When hover ends, call this.props.onHover with no value.\r\n    if (prevState.interacting && !this.state.interacting) {\r\n      return this.props.onHover();\r\n    }\r\n\r\n    // When hover over.\r\n    // Hover in should only be emitted while we are hovering (interacting),\r\n    // unless we changed the value, usually originated by an onClick event.\r\n    // We do not want to emit a hover in event again on the clicked\r\n    // symbol.\r\n    if (this.state.interacting && prevProps.value == this.props.value) {\r\n      this.props.onHover(this.state.displayValue);\r\n    }\r\n  }\r\n\r\n  symbolEnd(symbolIndex, event) {\r\n    // Do not raise the click event on quiet mode when a touch end is received.\r\n    // On quiet mode the touch end event only notifies that we have left the\r\n    // symbol. We wait for the actual click event to call the symbolClick.\r\n    // On not quiet mode we simulate the click event on touch end and we just\r\n    // prevent the real on click event to be raised.\r\n    // NOTE: I know how we manage click events on touch devices is a little bit\r\n    // weird because we do not notify the starting value that was clicked but\r\n    // the last (touched) value.\r\n    if (!this.props.quiet) {\r\n      this.symbolClick(symbolIndex, event);\r\n      event.preventDefault();\r\n    }\r\n    // On touch end we are \"leaving\" the symbol.\r\n    this.onMouseLeave();\r\n  }\r\n\r\n  symbolClick(symbolIndex, event) {\r\n    const value = this.calculateDisplayValue(symbolIndex, event);\r\n    this.props.onClick(value, event);\r\n  }\r\n\r\n  symbolMouseMove(symbolIndex, event) {\r\n    const value = this.calculateDisplayValue(symbolIndex, event);\r\n    // This call should cause an update only if the state changes.\r\n    // Mainly the first time the mouse enters and whenever the value changes.\r\n    // So DidComponentUpdate is NOT called for every mouse movement.\r\n    this.setState({\r\n      interacting: !this.props.readonly,\r\n      displayValue: value\r\n    });\r\n  }\r\n\r\n  onMouseLeave() {\r\n    this.setState({\r\n      displayValue: this.props.value,\r\n      interacting: false\r\n    });\r\n  }\r\n\r\n  calculateDisplayValue(symbolIndex, event) {\r\n    const percentage = this.calculateHoverPercentage(event);\r\n    // Get the closest top fraction.\r\n    const fraction = Math.ceil(percentage % 1 * this.props.fractions) / this.props.fractions;\r\n    // Truncate decimal trying to avoid float precission issues.\r\n    const precision = 10 ** 3;\r\n    const displayValue =\r\n      symbolIndex + (Math.floor(percentage) + Math.floor(fraction * precision) / precision);\r\n    // ensure the returned value is greater than 0 and lower than totalSymbols\r\n    return displayValue > 0 ? displayValue > this.props.totalSymbols ? this.props.totalSymbols : displayValue : 1 / this.props.fractions;\r\n  }\r\n\r\n  calculateHoverPercentage(event) {\r\n    const clientX = event.nativeEvent.type.indexOf(\"touch\") > -1\r\n      ? event.nativeEvent.type.indexOf(\"touchend\") > -1\r\n        ? event.changedTouches[0].clientX\r\n        : event.touches[0].clientX\r\n      : event.clientX;\r\n\r\n    const targetRect = event.target.getBoundingClientRect();\r\n    const delta = this.props.direction === 'rtl'\r\n      ? targetRect.right - clientX\r\n      : clientX - targetRect.left;\r\n\r\n    // Returning 0 if the delta is negative solves the flickering issue\r\n    return delta < 0 ? 0 : delta / targetRect.width;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      readonly,\r\n      quiet,\r\n      totalSymbols,\r\n      value,\r\n      placeholderValue,\r\n      direction,\r\n      emptySymbol,\r\n      fullSymbol,\r\n      placeholderSymbol,\r\n      className,\r\n      id,\r\n      style,\r\n      tabIndex\r\n    } = this.props;\r\n    const { displayValue, interacting } = this.state;\r\n    const symbolNodes = [];\r\n    const empty = [].concat(emptySymbol);\r\n    const full = [].concat(fullSymbol);\r\n    const placeholder = [].concat(placeholderSymbol);\r\n    const shouldDisplayPlaceholder =\r\n      placeholderValue !== 0 &&\r\n      value === 0 &&\r\n      !interacting;\r\n\r\n    // The value that will be used as base for calculating how to render the symbols\r\n    let renderedValue;\r\n    if (shouldDisplayPlaceholder) {\r\n      renderedValue = placeholderValue;\r\n    } else {\r\n      renderedValue = quiet ? value : displayValue;\r\n    }\r\n\r\n    // The amount of full symbols\r\n    const fullSymbols = Math.floor(renderedValue);\r\n\r\n    for (let i = 0; i < totalSymbols; i++) {\r\n      let percent;\r\n      // Calculate each symbol's fullness percentage\r\n      if (i - fullSymbols < 0) {\r\n        percent = 100;\r\n      } else if (i - fullSymbols === 0) {\r\n        percent = (renderedValue - i) * 100;\r\n      } else {\r\n        percent = 0;\r\n      }\r\n\r\n      symbolNodes.push(\r\n        <Symbol\r\n          key={i}\r\n          index={i}\r\n          readonly={readonly}\r\n          inactiveIcon={empty[i % empty.length]}\r\n          activeIcon={\r\n            shouldDisplayPlaceholder ? placeholder[i % full.length] : full[i % full.length]\r\n          }\r\n          percent={percent}\r\n          direction={direction}\r\n          {...(!readonly && {\r\n            onClick: this.symbolClick,\r\n            onMouseMove: this.symbolMouseMove,\r\n            onTouchMove: this.symbolMouseMove,\r\n            onTouchEnd: this.symbolEnd\r\n          })}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <span\r\n        id={id}\r\n        style={{...style, display: 'inline-block', direction }}\r\n        className={className}\r\n        tabIndex={tabIndex}\r\n        aria-label={this.props['aria-label']}\r\n        {...(!readonly && {\r\n          onMouseLeave: this.onMouseLeave\r\n        })}\r\n      >\r\n        {symbolNodes}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\n// Define propTypes only in development.\r\nRating.propTypes = typeof __DEV__ !== 'undefined' && __DEV__ && {\r\n  totalSymbols: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired, // Always >= 0\r\n  placeholderValue: PropTypes.number.isRequired,\r\n  readonly: PropTypes.bool.isRequired,\r\n  quiet: PropTypes.bool.isRequired,\r\n  fractions: PropTypes.number.isRequired,\r\n  direction: PropTypes.string.isRequired,\r\n  emptySymbol: PropTypes.oneOfType([\r\n    // Array of class names and/or style objects.\r\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\r\n    // Class names.\r\n    PropTypes.string,\r\n    // Style objects.\r\n    PropTypes.object,\r\n    // React element\r\n    PropTypes.element\r\n  ]).isRequired,\r\n  fullSymbol: PropTypes.oneOfType([\r\n    // Array of class names and/or style objects.\r\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\r\n    // Class names.\r\n    PropTypes.string,\r\n    // Style objects.\r\n    PropTypes.object,\r\n    // React element\r\n    PropTypes.element\r\n  ]).isRequired,\r\n  placeholderSymbol: PropTypes.oneOfType([\r\n    // Array of class names and/or style objects.\r\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\r\n    // Class names.\r\n    PropTypes.string,\r\n    // Style objects.\r\n    PropTypes.object,\r\n    // React element\r\n    PropTypes.element\r\n  ]),\r\n  onClick: PropTypes.func.isRequired,\r\n  onHover: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Rating;\r\n","function noop() {}\r\nnoop._name = 'react_rating_noop';\r\n\r\nexport default noop;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Style from './utils/style';\r\nimport Rating from './Rating';\r\nimport noop from './utils/noop';\r\n\r\nclass RatingAPILayer extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: props.initialRating\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleHover = this.handleHover.bind(this);\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    return {\r\n      value: props.initialRating\r\n    }\r\n  }\r\n\r\n  handleClick(value, e) {\r\n    const newValue = this.translateDisplayValueToValue(value);\r\n    this.props.onClick(newValue);\r\n    // Avoid calling setState if not necessary. Micro optimisation.\r\n    if (this.state.value !== newValue) {\r\n      // If we have a new value trigger onChange callback.\r\n      this.setState({\r\n        value: newValue\r\n      }, () => this.props.onChange(this.state.value));\r\n    }\r\n  }\r\n\r\n  handleHover(displayValue) {\r\n    const value = displayValue === undefined\r\n      ? displayValue\r\n      : this.translateDisplayValueToValue(displayValue);\r\n    this.props.onHover(value);\r\n  }\r\n\r\n  translateDisplayValueToValue(displayValue) {\r\n    const translatedValue = displayValue * this.props.step + this.props.start;\r\n    // minimum value cannot be equal to start, since it's exclusive\r\n    return translatedValue === this.props.start\r\n      ? translatedValue + 1 / this.props.fractions\r\n      : translatedValue;\r\n  }\r\n\r\n  tranlateValueToDisplayValue(value) {\r\n    if (value === undefined) {\r\n      return 0;\r\n    }\r\n    return (value - this.props.start) / this.props.step;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      step,\r\n      emptySymbol,\r\n      fullSymbol,\r\n      placeholderSymbol,\r\n      readonly,\r\n      quiet,\r\n      fractions,\r\n      direction,\r\n      start,\r\n      stop,\r\n      id,\r\n      className,\r\n      style,\r\n      tabIndex\r\n    } = this.props;\r\n\r\n    function calculateTotalSymbols(start, stop, step) {\r\n      return Math.floor((stop - start) / step);\r\n    }\r\n\r\n    return (\r\n      <Rating\r\n        id={id}\r\n        style={style}\r\n        className={className}\r\n        tabIndex={tabIndex}\r\n        aria-label={this.props['aria-label']}\r\n        totalSymbols={calculateTotalSymbols(start, stop, step)}\r\n        value={this.tranlateValueToDisplayValue(this.state.value)}\r\n        placeholderValue={this.tranlateValueToDisplayValue(this.props.placeholderRating)}\r\n        readonly={readonly}\r\n        quiet={quiet}\r\n        fractions={fractions}\r\n        direction={direction}\r\n        emptySymbol={emptySymbol}\r\n        fullSymbol={fullSymbol}\r\n        placeholderSymbol={placeholderSymbol}\r\n        onClick={this.handleClick}\r\n        onHover={this.handleHover}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nRatingAPILayer.defaultProps = {\r\n  start: 0,\r\n  stop: 5,\r\n  step: 1,\r\n  readonly: false,\r\n  quiet: false,\r\n  fractions: 1,\r\n  direction: 'ltr',\r\n  onHover: noop,\r\n  onClick: noop,\r\n  onChange: noop,\r\n  emptySymbol: Style.empty,\r\n  fullSymbol: Style.full,\r\n  placeholderSymbol: Style.placeholder\r\n};\r\n\r\n// Define propTypes only in development.\r\nRatingAPILayer.propTypes = typeof __DEV__ !== 'undefined' && __DEV__ && {\r\n  start: PropTypes.number,\r\n  stop: PropTypes.number,\r\n  step: PropTypes.number,\r\n  initialRating: PropTypes.number,\r\n  placeholderRating: PropTypes.number,\r\n  readonly: PropTypes.bool,\r\n  quiet: PropTypes.bool,\r\n  fractions: PropTypes.number,\r\n  direction: PropTypes.string,\r\n  emptySymbol: PropTypes.oneOfType([\r\n    // Array of class names and/or style objects.\r\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\r\n    // Class names.\r\n    PropTypes.string,\r\n    // Style objects.\r\n    PropTypes.object,\r\n    // React element\r\n    PropTypes.element\r\n  ]),\r\n  fullSymbol: PropTypes.oneOfType([\r\n    // Array of class names and/or style objects.\r\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\r\n    // Class names.\r\n    PropTypes.string,\r\n    // Style objects.\r\n    PropTypes.object,\r\n    // React element\r\n    PropTypes.element\r\n  ]),\r\n  placeholderSymbol: PropTypes.oneOfType([\r\n    // Array of class names and/or style objects.\r\n    PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.element])),\r\n    // Class names.\r\n    PropTypes.string,\r\n    // Style objects.\r\n    PropTypes.object,\r\n    // React element\r\n    PropTypes.element\r\n  ]),\r\n  onHover: PropTypes.func,\r\n  onClick: PropTypes.func,\r\n  onChange: PropTypes.func\r\n};\r\n\r\nexport default RatingAPILayer;\r\n"],"names":["style","display","borderRadius","border","width","height","empty","_objectSpread","backgroundColor","full","placeholder","_iconNode","icon","React","isValidElement","_typeof","createElement","Object","prototype","toString","call","className","RatingSymbol","_React$PureComponent","_classCallCheck","_callSuper","arguments","_inherits","_createClass","key","value","render","_this$props","props","index","inactiveIcon","activeIcon","percent","direction","readonly","onClick","onMouseMove","onTouchEnd","backgroundNode","showbgIcon","bgIconContainerStyle","visibility","iconNode","iconContainerStyle","_defineProperty","position","overflow","top","concat","cursor","handleMouseMove","e","handleMouseClick","preventDefault","handleTouchEnd","onTouchMove","PureComponent","Rating","_this","state","displayValue","interacting","onMouseLeave","bind","symbolMouseMove","symbolClick","symbolEnd","componentDidUpdate","prevProps","prevState","onHover","symbolIndex","event","quiet","calculateDisplayValue","setState","percentage","calculateHoverPercentage","fraction","Math","ceil","fractions","precision","pow","floor","totalSymbols","clientX","nativeEvent","type","indexOf","changedTouches","touches","targetRect","target","getBoundingClientRect","delta","right","left","placeholderValue","emptySymbol","fullSymbol","placeholderSymbol","id","tabIndex","_this$state","symbolNodes","shouldDisplayPlaceholder","renderedValue","fullSymbols","i","push","_Symbol","_extends","length","noop","_name","RatingAPILayer","initialRating","handleClick","handleHover","_this2","newValue","translateDisplayValueToValue","onChange","undefined","translatedValue","step","start","tranlateValueToDisplayValue","stop","calculateTotalSymbols","placeholderRating","getDerivedStateFromProps","defaultProps","Style"],"mappings":"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"}